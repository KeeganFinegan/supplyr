{"ast":null,"code":"import React,{useContext}from'react';import{MenuItems}from'./MenuItems';import{UserContext}from'../../context/AppContext';import'./Navbar.css';import jwt_decode from'jwt-decode';import Cookie from'js-cookie';import{useHistory}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Navbar(){var history=useHistory();var token=Cookie.get('token');var username='';var role='';if(token){var decoded=jwt_decode(token);username=decoded.sub;role=decoded.authorities[0].authority;}else{username=' ';}function logout(e){e.preventDefault();Cookie.remove('token');history.push('/login');}return/*#__PURE__*/_jsxs(\"nav\",{className:\"NavbarItems\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"navbar-logo\",onClick:function onClick(){return history.push('/home');},children:\"supplyr\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"nav-menu\",children:role==='ROLE_ADMIN'?MenuItems.map(function(item,index){return/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{className:item.cName,href:item.url,children:item.title})},index);}):null}),/*#__PURE__*/_jsx(\"div\",{className:\"menu-icon\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"username\",onClick:logout,children:username}),/*#__PURE__*/_jsx(\"div\",{className:\"dropdown-content\",onClick:logout,children:/*#__PURE__*/_jsx(\"button\",{className:\"logout\",children:\"LOGOUT\"})})]})})]});}","map":{"version":3,"sources":["/Users/keeganfinegan/Documents/2021/SoftwareDevelopment/Assignment/supplyr/supplyr-frontend/src/components/Navbar/Navbar.js"],"names":["React","useContext","MenuItems","UserContext","jwt_decode","Cookie","useHistory","Navbar","history","token","get","username","role","decoded","sub","authorities","authority","logout","e","preventDefault","remove","push","map","item","index","cName","url","title"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAgBC,UAAhB,KAAkC,OAAlC,CACA,OAASC,SAAT,KAA0B,aAA1B,CACA,OAASC,WAAT,KAA4B,0BAA5B,CACA,MAAO,cAAP,CACA,MAAOC,CAAAA,UAAP,KAAuB,YAAvB,CACA,MAAOC,CAAAA,MAAP,KAAmB,WAAnB,CACA,OAASC,UAAT,KAA2B,kBAA3B,C,wFAEA,cAAe,SAASC,CAAAA,MAAT,EAAkB,CAC/B,GAAIC,CAAAA,OAAO,CAAGF,UAAU,EAAxB,CAEA,GAAIG,CAAAA,KAAK,CAAGJ,MAAM,CAACK,GAAP,CAAW,OAAX,CAAZ,CACA,GAAIC,CAAAA,QAAQ,CAAG,EAAf,CACA,GAAIC,CAAAA,IAAI,CAAG,EAAX,CAEA,GAAIH,KAAJ,CAAW,CACT,GAAII,CAAAA,OAAO,CAAGT,UAAU,CAACK,KAAD,CAAxB,CAEAE,QAAQ,CAAGE,OAAO,CAACC,GAAnB,CACAF,IAAI,CAAGC,OAAO,CAACE,WAAR,CAAoB,CAApB,EAAuBC,SAA9B,CACD,CALD,IAKO,CACLL,QAAQ,CAAG,GAAX,CACD,CAED,QAASM,CAAAA,MAAT,CAAgBC,CAAhB,CAAmB,CACjBA,CAAC,CAACC,cAAF,GACAd,MAAM,CAACe,MAAP,CAAc,OAAd,EACAZ,OAAO,CAACa,IAAR,CAAa,QAAb,EACD,CAED,mBACE,aAAK,SAAS,CAAC,aAAf,wBACE,WAAI,SAAS,CAAC,aAAd,CAA4B,OAAO,CAAE,yBAAMb,CAAAA,OAAO,CAACa,IAAR,CAAa,OAAb,CAAN,EAArC,qBADF,cAIE,WAAI,SAAS,CAAC,UAAd,UACGT,IAAI,GAAK,YAAT,CACGV,SAAS,CAACoB,GAAV,CAAc,SAACC,IAAD,CAAOC,KAAP,CAAiB,CAC7B,mBACE,iCACE,UAAG,SAAS,CAAED,IAAI,CAACE,KAAnB,CAA0B,IAAI,CAAEF,IAAI,CAACG,GAArC,UACGH,IAAI,CAACI,KADR,EADF,EAASH,KAAT,CADF,CAOD,CARD,CADH,CAUG,IAXN,EAJF,cAkBE,YAAK,SAAS,CAAC,WAAf,uBACE,aAAK,SAAS,CAAC,UAAf,wBACE,aAAM,SAAS,CAAC,UAAhB,CAA2B,OAAO,CAAEP,MAApC,UACGN,QADH,EADF,cAIE,YAAK,SAAS,CAAC,kBAAf,CAAkC,OAAO,CAAEM,MAA3C,uBACE,eAAQ,SAAS,CAAC,QAAlB,oBADF,EAJF,GADF,EAlBF,GADF,CA+BD","sourcesContent":["import React, { useContext } from 'react';\nimport { MenuItems } from './MenuItems';\nimport { UserContext } from '../../context/AppContext';\nimport './Navbar.css';\nimport jwt_decode from 'jwt-decode';\nimport Cookie from 'js-cookie';\nimport { useHistory } from 'react-router-dom';\n\nexport default function Navbar() {\n  let history = useHistory();\n\n  let token = Cookie.get('token');\n  let username = '';\n  let role = '';\n\n  if (token) {\n    let decoded = jwt_decode(token);\n\n    username = decoded.sub;\n    role = decoded.authorities[0].authority;\n  } else {\n    username = ' ';\n  }\n\n  function logout(e) {\n    e.preventDefault();\n    Cookie.remove('token');\n    history.push('/login');\n  }\n\n  return (\n    <nav className=\"NavbarItems\">\n      <h1 className=\"navbar-logo\" onClick={() => history.push('/home')}>\n        supplyr\n      </h1>\n      <ul className=\"nav-menu\">\n        {role === 'ROLE_ADMIN'\n          ? MenuItems.map((item, index) => {\n              return (\n                <li key={index}>\n                  <a className={item.cName} href={item.url}>\n                    {item.title}\n                  </a>\n                </li>\n              );\n            })\n          : null}\n      </ul>\n\n      <div className=\"menu-icon\">\n        <div className=\"dropdown\">\n          <span className=\"username\" onClick={logout}>\n            {username}\n          </span>\n          <div className=\"dropdown-content\" onClick={logout}>\n            <button className=\"logout\">LOGOUT</button>\n          </div>\n        </div>\n      </div>\n    </nav>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}