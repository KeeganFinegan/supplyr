{"ast":null,"code":"import _slicedToArray from\"/Users/keeganfinegan/Documents/2021/SoftwareDevelopment/Assignment/supplyr/supplyr-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _regeneratorRuntime from\"/Users/keeganfinegan/Documents/2021/SoftwareDevelopment/Assignment/supplyr/supplyr-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/keeganfinegan/Documents/2021/SoftwareDevelopment/Assignment/supplyr/supplyr-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import React,{useState}from'react';import{Tab,Container,Nav,Row,Col,Form,Dropdown,DropdownButton,Button}from'react-bootstrap';import'./Admin.css';import'bootstrap/dist/css/bootstrap.min.css';import Cookies,{set}from'js-cookie';import styles from'../BootstrapStyles/styles';import'react-toastify/dist/ReactToastify.css';import{toast}from'react-toastify';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";toast.configure();var createUnit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(unitName,unitCredits,setResponse){var url,token;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:url='http://localhost:8080/api/v1/organisational-unit';token=Cookies.get('token');return _context.abrupt(\"return\",fetch(url,{method:'POST',headers:{Authorization:'Bearer '+token,accept:'application/json','Content-Type':'application/json'},body:JSON.stringify({name:unitName,credits:unitCredits})}).then(function(res){return res.json();}).then(function(data){console.log(data);setResponse(data);}).catch(function(error){console.log(error.message);setResponse(error);}));case 3:case\"end\":return _context.stop();}}},_callee);}));return function createUnit(_x,_x2,_x3){return _ref.apply(this,arguments);};}();var success=function success(setResponse){toast.success('New unit created! ',{position:toast.POSITION.BOTTOM_RIGHT});setResponse(null);};var error=function error(setResponse,_error){toast.error(_error,{position:toast.POSITION.BOTTOM_RIGHT});setResponse(null);};export var OrganisationalUnit=function OrganisationalUnit(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),unitName=_useState2[0],setUnitName=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),unitCredits=_useState4[0],setUnitCredits=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),response=_useState6[0],setResponse=_useState6[1];return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"admin-card\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"admin-card-title\",children:\"Create Organisational Unit\"}),/*#__PURE__*/_jsxs(Form,{className:\"admin-form\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"admin-input-title\",children:\"Unit details\"}),/*#__PURE__*/_jsx(\"input\",{className:\"admin-input\",placeholder:\"Unit name...\",onChange:function onChange(e){e.preventDefault();setUnitName(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"admin-input\",placeholder:\"Credits...\",onChange:function onChange(e){e.preventDefault();setUnitCredits(e.target.value);}})]}),unitName&&unitCredits?/*#__PURE__*/_jsx(Button,{variant:\"secondary\",className:\"user-button \",onClick:function onClick(){createUnit(unitName,unitCredits,setResponse);setUnitName('');setUnitCredits('');},children:\"Submit\"}):/*#__PURE__*/_jsx(Button,{disabled:true,className:\"user-button \",variant:\"secondary\",children:\"Submit\"})]}),response?response.status?error(setResponse,response.message):success(setResponse):null]});};","map":{"version":3,"sources":["/Users/keeganfinegan/Documents/2021/SoftwareDevelopment/Assignment/supplyr/supplyr-frontend/src/components/Admin/OrganisationalUnit.js"],"names":["React","useState","Tab","Container","Nav","Row","Col","Form","Dropdown","DropdownButton","Button","Cookies","set","styles","toast","configure","createUnit","unitName","unitCredits","setResponse","url","token","get","fetch","method","headers","Authorization","accept","body","JSON","stringify","name","credits","then","res","json","data","console","log","catch","error","message","success","position","POSITION","BOTTOM_RIGHT","OrganisationalUnit","setUnitName","setUnitCredits","response","e","preventDefault","target","value","status"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport {\n  Tab,\n  Container,\n  Nav,\n  Row,\n  Col,\n  Form,\n  Dropdown,\n  DropdownButton,\n  Button,\n} from 'react-bootstrap';\nimport './Admin.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport Cookies, { set } from 'js-cookie';\nimport styles from '../BootstrapStyles/styles';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { toast } from 'react-toastify';\n\ntoast.configure();\n\nconst createUnit = async (unitName, unitCredits, setResponse) => {\n  const url = 'http://localhost:8080/api/v1/organisational-unit';\n  const token = Cookies.get('token');\n\n  return fetch(url, {\n    method: 'POST',\n    headers: {\n      Authorization: 'Bearer ' + token,\n      accept: 'application/json',\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify({ name: unitName, credits: unitCredits }),\n  })\n    .then((res) => res.json())\n    .then((data) => {\n      console.log(data);\n      setResponse(data);\n    })\n    .catch((error) => {\n      console.log(error.message);\n      setResponse(error);\n    });\n};\n\nconst success = (setResponse) => {\n  toast.success('New unit created! ', {\n    position: toast.POSITION.BOTTOM_RIGHT,\n  });\n  setResponse(null);\n};\n\nconst error = (setResponse, error) => {\n  toast.error(error, {\n    position: toast.POSITION.BOTTOM_RIGHT,\n  });\n  setResponse(null);\n};\n\nexport const OrganisationalUnit = () => {\n  const [unitName, setUnitName] = useState(null);\n  const [unitCredits, setUnitCredits] = useState(null);\n  const [response, setResponse] = useState(null);\n\n  return (\n    <Container>\n      <div className=\"admin-card\">\n        <h2 className=\"admin-card-title\">Create Organisational Unit</h2>\n        <Form className=\"admin-form\">\n          <p className=\"admin-input-title\">Unit details</p>\n          <input\n            className=\"admin-input\"\n            placeholder=\"Unit name...\"\n            onChange={(e) => {\n              e.preventDefault();\n              setUnitName(e.target.value);\n            }}\n          ></input>\n          <input\n            type=\"number\"\n            className=\"admin-input\"\n            placeholder=\"Credits...\"\n            onChange={(e) => {\n              e.preventDefault();\n              setUnitCredits(e.target.value);\n            }}\n          ></input>\n        </Form>\n        {unitName && unitCredits ? (\n          <Button\n            variant=\"secondary\"\n            className=\"user-button \"\n            onClick={() => {\n              createUnit(unitName, unitCredits, setResponse);\n              setUnitName('');\n              setUnitCredits('');\n            }}\n          >\n            Submit\n          </Button>\n        ) : (\n          <Button disabled className=\"user-button \" variant=\"secondary\">\n            Submit\n          </Button>\n        )}\n      </div>\n      {response\n        ? response.status\n          ? error(setResponse, response.message)\n          : success(setResponse)\n        : null}\n    </Container>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}