{"ast":null,"code":"import React, { useState, useEffect, Component } from 'react';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { toast } from 'react-toastify';\nimport Cookie from 'js-cookie';\nimport jwt_decode from 'jwt-decode';\n\nconst notify = () => {};\n\nconst fetchUserData = async () => {\n  let token = Cookie.get('token');\n  let decoded = jwt_decode(token);\n  let username = decoded.sub;\n  const userUrl = `http://localhost:8080/api/v1/users/`;\n  const userResponse = await fetch(userUrl + username, {\n    method: 'GET',\n    headers: {\n      Authorization: 'Bearer ' + token,\n      accept: 'application/json',\n      'Content-Type': 'application/json'\n    }\n  });\n  const userData = await userResponse.json();\n  return userData;\n};\n\nclass Notificaition extends Component {\n  constructor() {\n    super();\n    this.state = {\n      user: null,\n      trades: 0\n    };\n  }\n\n  async componentDidMount() {\n    const dataObject = await fetchUserData();\n    this.setState({\n      user: dataObject.userData\n    });\n    setInterval(this.loadData, 30000);\n  }\n\n  async loadData() {\n    try {\n      const res = await fetchUserData();\n      console.log(this.state.user);\n    } catch (e) {\n      console.log(e);\n    }\n  }\n\n  render() {\n    return {};\n  }\n\n}\n\nexport default Notificaition;","map":{"version":3,"sources":["/Users/keeganfinegan/Documents/2021/SoftwareDevelopment/Assignment/supplyr-frontend/src/components/Notificaition/Notification.js"],"names":["React","useState","useEffect","Component","toast","Cookie","jwt_decode","notify","fetchUserData","token","get","decoded","username","sub","userUrl","userResponse","fetch","method","headers","Authorization","accept","userData","json","Notificaition","constructor","state","user","trades","componentDidMount","dataObject","setState","setInterval","loadData","res","console","log","e","render"],"mappings":"AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,SAArC,QAAsD,OAAtD;AACA,OAAO,uCAAP;AACA,SAASC,KAAT,QAAsB,gBAAtB;AACA,OAAOC,MAAP,MAAmB,WAAnB;AACA,OAAOC,UAAP,MAAuB,YAAvB;;AAEA,MAAMC,MAAM,GAAG,MAAM,CAAE,CAAvB;;AAEA,MAAMC,aAAa,GAAG,YAAY;AAChC,MAAIC,KAAK,GAAGJ,MAAM,CAACK,GAAP,CAAW,OAAX,CAAZ;AACA,MAAIC,OAAO,GAAGL,UAAU,CAACG,KAAD,CAAxB;AACA,MAAIG,QAAQ,GAAGD,OAAO,CAACE,GAAvB;AAEA,QAAMC,OAAO,GAAI,qCAAjB;AACA,QAAMC,YAAY,GAAG,MAAMC,KAAK,CAACF,OAAO,GAAGF,QAAX,EAAqB;AACnDK,IAAAA,MAAM,EAAE,KAD2C;AAEnDC,IAAAA,OAAO,EAAE;AACPC,MAAAA,aAAa,EAAE,YAAYV,KADpB;AAEPW,MAAAA,MAAM,EAAE,kBAFD;AAGP,sBAAgB;AAHT;AAF0C,GAArB,CAAhC;AAQA,QAAMC,QAAQ,GAAG,MAAMN,YAAY,CAACO,IAAb,EAAvB;AAEA,SAAOD,QAAP;AACD,CAjBD;;AAmBA,MAAME,aAAN,SAA4BpB,SAA5B,CAAsC;AACpCqB,EAAAA,WAAW,GAAG;AACZ;AACA,SAAKC,KAAL,GAAa;AACXC,MAAAA,IAAI,EAAE,IADK;AAEXC,MAAAA,MAAM,EAAE;AAFG,KAAb;AAID;;AAEsB,QAAjBC,iBAAiB,GAAG;AACxB,UAAMC,UAAU,GAAG,MAAMrB,aAAa,EAAtC;AAEA,SAAKsB,QAAL,CAAc;AACZJ,MAAAA,IAAI,EAAEG,UAAU,CAACR;AADL,KAAd;AAGAU,IAAAA,WAAW,CAAC,KAAKC,QAAN,EAAgB,KAAhB,CAAX;AACD;;AAEa,QAARA,QAAQ,GAAG;AACf,QAAI;AACF,YAAMC,GAAG,GAAG,MAAMzB,aAAa,EAA/B;AAEA0B,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKV,KAAL,CAAWC,IAAvB;AACD,KAJD,CAIE,OAAOU,CAAP,EAAU;AACVF,MAAAA,OAAO,CAACC,GAAR,CAAYC,CAAZ;AACD;AACF;;AAEDC,EAAAA,MAAM,GAAG;AACP,WAAO,EAAP;AACD;;AA9BmC;;AAiCtC,eAAed,aAAf","sourcesContent":["import React, { useState, useEffect, Component } from 'react';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { toast } from 'react-toastify';\nimport Cookie from 'js-cookie';\nimport jwt_decode from 'jwt-decode';\n\nconst notify = () => {};\n\nconst fetchUserData = async () => {\n  let token = Cookie.get('token');\n  let decoded = jwt_decode(token);\n  let username = decoded.sub;\n\n  const userUrl = `http://localhost:8080/api/v1/users/`;\n  const userResponse = await fetch(userUrl + username, {\n    method: 'GET',\n    headers: {\n      Authorization: 'Bearer ' + token,\n      accept: 'application/json',\n      'Content-Type': 'application/json',\n    },\n  });\n  const userData = await userResponse.json();\n\n  return userData;\n};\n\nclass Notificaition extends Component {\n  constructor() {\n    super();\n    this.state = {\n      user: null,\n      trades: 0,\n    };\n  }\n\n  async componentDidMount() {\n    const dataObject = await fetchUserData();\n\n    this.setState({\n      user: dataObject.userData,\n    });\n    setInterval(this.loadData, 30000);\n  }\n\n  async loadData() {\n    try {\n      const res = await fetchUserData();\n\n      console.log(this.state.user);\n    } catch (e) {\n      console.log(e);\n    }\n  }\n\n  render() {\n    return {};\n  }\n}\n\nexport default Notificaition;\n"]},"metadata":{},"sourceType":"module"}